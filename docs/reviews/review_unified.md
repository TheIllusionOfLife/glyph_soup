# 統一レビュー：Glyph Soup 研究計画書

> **Document Role:** Peer Review of [`research_plan.md`](../research/research_plan.md)
> **Input:** [`research_plan.md`](../research/research_plan.md)（研究計画）+ [`assembly_theory_report_ja.md`](../reference/assembly_theory_report_ja.md)（アセンブリ理論の参照資料）
> **Output:** 2件の独立レビューを統合した優先度付き問題リストと推奨アクション
> **Next:** See [`spec.md`](../../spec.md) — this review's findings were addressed in the implementation specification.

---

## 致命的問題（研究の成立に直結）

### C1. 生命判定指標の定義が原論文と乖離している

`research_plan.md:53-55` で $A = MA \times CN$ を**単一分子種**のスコアとして定義し、その急上昇を「生命発生」としている。しかし参照理論（`assembly_theory_report_ja.md:50`）のアセンブリ方程式は：

$$A_{total} = \sum_{i} (A_i \times N_i)$$

これは**系全体**の集約指標である。現状の定義では「1種の中程度MAが増えただけ」で誤検出する。さらに、参照理論が強調する「ランダムな複雑さ（高$A$・低$N$）」と「組織化された複雑さ（中〜高$A$・極めて高$N$）」の区別（`assembly_theory_report_ja.md:184-186`）が計画書に欠落しており、偽陽性を排除できない。

**対処:** 3層の指標を設計する：
- **個別指標**: 分子種ごとの $A_i \times N_i$（ヒートマップ用）
- **系全体指標**: $A_{total} = \sum_i (A_i \times N_i)$（相転移検出用）
- **分布形状指標**: MA-CN散布図のクラスタ形成（ランダム vs 組織化の判別用）

### C2. MA閾値の移植問題

`research_plan.md:11` で「MA閾値超え＝生命兆候」としているが、参照理論の $A > 15$ は実分子の質量分析・NMRに基づく**経験的境界**である（`assembly_theory_report_ja.md:54-63`）。文字列人工化学のアルファベット数・結合規則は実分子と根本的に異なるため、この値をそのまま移植する妥当性がない。

**対処:** $A > 15$ は参照値としてのみ扱い、Glyph Soup固有の閾値を以下の手順で実験的に再校正する：
1. 実験Aのランダム条件でMA分布の上限を統計的に求める
2. その上限を超える領域を「非ランダム領域」と定義する
3. この独自閾値を以降の実験B・Cの判定基準とする

### C3. MA計算アルゴリズムの未設計

MA算出は**NP困難**に属する可能性がある（`assembly_theory_report_ja.md:176`）。計画書ではMAを「最短再帰ステップ数」とだけ定義しており：
- 具体的アルゴリズム（動的計画法？モンテカルロ木探索？）が未定義
- 計算量の見積もりがない
- タンク内の全分子を毎フレーム計算するスケーラビリティが未検討

**対処:** プロジェクト最初期にMAアルゴリズムをプロトタイプ実装し、分子長 vs 計算時間のベンチマークを取る。ここがボトルネックになると全体が破綻する。

### C4. 帰無仮説検証の統計設計が不在

`research_plan.md:83` で「偶然では生まれないことの証明（ベースライン作成）」としているが、試行回数・効果量・有意判定・信頼区間が未定義。単発ランでは反証不能であり、再現性のある統計計画が必須。

**対処:**
- seed固定 + 多数試行（最低100回、理想は1000回）
- 各実験条件で $A_{total}$ の分布を取り、条件間の差をKS検定等で比較
- 効果量（Cohen's d等）と信頼区間を報告する

---

## 重要問題（結果の解釈と再現性に影響）

### M1. 反応ルールの形式化が不十分

`research_plan.md:34-41` の反応規則について：
- **Bonding**: 結合位置の決定方法が未定義（先頭？ランダム？）
- **Breaking**: 切断位置の選択規則が未定義
- 「長い分子ほど不安定」の確率関数が未定式

これらはシミュレーション結果を根本的に左右するパラメータであり、再現性のためにも**数式で定義が必要**。

### M2. 反応規則が選択圧を暗黙に埋め込む危険

`research_plan.md:42` の「形状＝ハッシュ/部分文字列一致」による触媒判定は、設計者バイアスを強く持ち込む。「創発」を主張するなら、触媒規則自体のランダム化比較やアブレーション実験が必要。実験Bの `ABA → A+B=AB を10倍加速` も同様に恣意的であり、より一般的な触媒関数の特殊ケースとして位置づけるべき。

### M3. データ構造の選択が曖昧

`research_plan.md:26` で「文字列」か「二分木」か未決定。アセンブリ理論の核心は「結合操作（Join）」と「サブ構造の再利用」であり、文字列では結合順序の情報が失われる。

**対処:** 二分木をメインデータ構造に決定し、文字列表現は表示・ハッシュ比較用とする。

### M4. 物理モデルの一貫性

`research_plan.md:21` でwell-mixed（空間なし）を採用しつつ、`research_plan.md:71` のUnityフェーズでは2D物理結合（Joint）を導入している。空間効果の有無で進化ダイナミクスが変わるため、「Pythonフェーズの結果とUnityフェーズの結果は直接比較不能」という境界条件を明示するか、Unity側もwell-mixedの等価モデルを維持する設計が必要。

### M5. 実験Cが過負荷

`research_plan.md:93-98` で「資源競合」「エネルギー効率」「突然変異」「触媒耐性」の4機構を同時導入している。どの機構が創発に寄与したか切り分けられない。

**対処:** 1因子ずつ追加するアブレーション実験（C-1〜C-4）に再設計する。

---

## 欠落概念（理論的厚みに影響）

| 欠落概念 | 参照箇所 | 計画書への影響 |
|---------|---------|--------------|
| アセンブリ空間（Assembly Space） | レポート §3.1 | 系の状態の可視化・経路分析の枠組みが不在 |
| 非マルコフ性（履歴依存） | レポート §1.2 | 分子の「記憶」のモデル化方針が未設計 |
| トップダウン因果作用 | レポート §3.2 | 情報→物質の制御が始まる転移点の操作的定義がない |
| アセンブリ転移の操作的定義 | レポート §4.2 | 「いつ相転移が起きたか」の判定基準がない |
| シャノン情報量との区別 | レポート 補遺A.2 | ランダム複雑性と組織化複雑性の混同リスク |

---

## 文書品質

`research_plan.md:63-66` に計画本文から浮いた説明文が混入しており、構成を乱している。査読文書としては削除または再配置を推奨。

---

## 肯定的評価

- **Well-mixed Reactorの採用は適切。** 空間的複雑性を排除し、化学ダイナミクスに集中できる
- **3モジュール分離（Reactor / Chemist / Observer）は優れた設計。** 各層を独立に改良・検証可能
- **Python→Unityの2段階は現実的。** コアロジック検証→視覚化の順序は正しい
- **RQ1→RQ2→RQ3の段階的設計は論理的。** ベースライン→介入→AI探索は科学的に妥当
- **「複雑さ × コピー数」をシミュレーション実験系に落とし込む方向性は強い**

---

## 統一推奨アクション（実行順）

| 順序 | アクション | 対応問題 | 成果物 |
|------|-----------|---------|--------|
| 1 | MA計算アルゴリズムのプロトタイプ実装とベンチマーク | C3 | `assembly_index.py` + 計算量レポート |
| 2 | 3層指標の設計と数式定義 | C1 | 指標定義書（個別/系全体/分布形状） |
| 3 | 反応確率関数の数式定義 | M1, M2 | Bonding率・Breaking率・触媒関数の数式 |
| 4 | 二分木データ構造の設計 | M3 | データ構造仕様 |
| 5 | 統計計画の策定 | C4 | 試行数・検定手法・報告形式の定義 |
| 6 | 実験A実行 → 独自閾値の校正 | C2 | Glyph Soup固有の「非ランダム閾値」 |
| 7 | 実験B・Cのアブレーション再設計 | M2, M5 | 因子ごとの実験条件表 |

---

**核心メッセージ:** 指標整合（C1）・閾値再校正（C2）・MA計算実装（C3）・統計計画（C4）の4点を先に固めれば、この研究の説得力は大幅に上がる。発想の方向性は強いので、基盤を堅くすることに集中すべき。
