# Research Project: Glyph Soup

## Simulation of Emergent Assembly in Artificial Chemistry

## 1. プロジェクト概要

「Glyph Soup」は、記号（Glyph）を原子とする人工化学シミュレーション環境である。本研究の目的は、単純な結合・分解ルールを持つ環境下で、自然淘汰や意図的な設計なしに「高いアセンブリ指数（MA）」を持つ構造体が創発する条件を特定することである。

### 研究の問い（Research Questions）

* **RQ1:** ランダムな結合ルールだけで、アセンブリ指数（MA）の閾値（生命の兆候）を超える構造体は発生しうるか？（帰無仮説：発生しない）
* **RQ2:** 自己触媒（Autocatalysis）や選択圧を導入した際、系のアセンブリ状態（MA × CopyNumber）はどう遷移するか？
* **RQ3:** AI（強化学習など）は、高MA物質を生成するための「化学反応ルール」を発見できるか？

## 2. システムアーキテクチャ設計

シミュレーションは (A) The Reactor (環境)、(B) The Chemist (反応ルール)、(C) The Observer (測定器) の3モジュールで構成される。

### (A) The Reactor: 物理層

空間的な制約を排除し、計算効率を優先するため、「Well-mixed Reactor（十分に撹拌されたタンク）」モデルを採用する。

* **基本要素（Atoms）:** 文字列 A, B, C, D ... Z
* **分子（Molecules）:** 文字列の結合体（例: ABA, CAB, ((AB)D)）

> **Note:** データ構造としては「文字列」または「二分木（Binary Tree）」として保持する。

* **エネルギー保存則:** タンク内の総質量（文字数合計）を一定に保つ（Open Systemにする場合は流入/流出を管理）。

### (B) The Chemist: 反応層

毎フレーム、確率的に選択された2つの分子に対して反応を試行する。

* **Bonding (結合):** `X + Y -> XY`
  * エネルギー（または確率）コストを伴う。
* **Breaking (分解):** `XY -> X + Y`
  * 長い分子ほど不安定になりやすい（エントロピー増大則の模倣）。
* **Catalysis (触媒作用)** [Phase 2で導入]:
  * `X + Y + C -> XY + C`
  * 分子 C が存在する場合、X と Y の結合確率をブーストする。

> **重要:** どの分子がどの反応の触媒になるかは、分子の形状（ハッシュ値や部分文字列の一致）で決定する。

### (C) The Observer: アセンブリ測定器

この研究の核心部分。タンク内の全分子をスキャンし、以下を計算する。

* **MA (Molecular Assembly Index):**
  * その文字列を作るための「最短再帰ステップ数」。
  * 例: `ABAB -> A+B=AB (step1) -> AB+AB=ABAB (step2) => MA=2`
* **Copy Number (CN):**
  * その分子がタンク内にいくつ存在するか。
* **Assembly Score ($A$):**
  * $A = MA \times CN$
  * この値が急激に上昇したタイミングを「生命発生（または相転移）」と定義する。

## 3. 実装計画とプロトタイプ (Python & Unity)

### Step 1: Pythonによるコアロジック検証 (CLI)

まずは高速なPythonスクリプトで、MAの計算アルゴリズムと反応ダイナミクスを検証する。

「Glyph Soup」プロジェクトの詳細な研究計画書を作成します。

このプロジェクトの核心は、**「計算可能な最小単位の化学反応系」を構築し、そこで発生する構造物の複雑さをアセンブリ理論（AT）で定量的に監視すること**です。ゲーム開発のバックグラウンドを活かし、視覚的かつインタラクティブな実験系として設計します。

### Step 2: Unityによる視覚化と実験 (Visual Simulation)

ゲームエンジンを使用し、リアルタイムで「分子の進化」を観察できるようにする。

* **View:** 2D空間を浮遊する分子たち。結合すると物理的にくっつく（Joint）。
* **UI:** 画面端にリアルタイムグラフ（横軸：MA、縦軸：個数）を表示。
* **Interaction:** プレイヤー（研究者）が特定の分子をつまんで投入したり、反応ルール（「Aを含む分子は結合しやすい」など）をスライダーで調整できるようにする。

---

## 4. 実験シナリオ

### 実験A: The Null Hypothesis (帰無仮説の検証)

* **条件:** 完全ランダムな結合・分解。触媒なし。
* **予想:** MAの分布は低位で正規分布する（ポアソン分布的）。高MA物質は偶然生まれても、すぐに分解され、コピー数（CN）が増えないため、アセンブリ・スコアは低いまま推移する。
* **目的:** 「偶然では生命（高アセンブリ状態）は生まれない」ことの証明（ベースライン作成）。

### 実験B: The Autocatalytic Set (自己触媒セットの導入)

* **条件:** ルール「分子 `ABA` が存在すると、`A+B -> AB` の反応速度が10倍になる」を追加。
* **予想:** タンク内が `ABA` とその派生物（`ABABA`...）で埋め尽くされる。MAが高い物質のCNが爆発的に増え、グラフの右上に特異点（ピーク）が現れる。
* **目的:** アセンブリ理論が「選択された複雑さ」を正しく検出できるかの確認。

### 実験C: The Open-Ended Evolution (非限定的進化)

* **条件:**
  * **資源競合:** タンク内の文字数上限を設ける。
  * **エネルギー効率:** 複雑な分子ほど維持コストがかかるが、「特定のパターン（触媒）」を持つと分解耐性を得る。
  * **突然変異:** まれに文字が変化する。
* **予想:** 最初は単純な触媒が支配するが、時間の経過とともに、より効率的に自己複製する（あるいは他者を分解して部品を奪う）「寄生的な分子」や「共生的な分子ネットワーク」が発生する。
* **目的:** 最終的にAI（この系自体）が、設計者が意図しなかった「未知の生存戦略（高MA構造）」を発明するかを観測する。

---

## 5. 評価指標と成果物

1. **Assembly Heatmap (アセンブリ・ヒートマップ)**
   * X軸：Molecular Assembly Index (MA)
   * Y軸：Copy Number (CN)
   * **成果:** 生命発生時には、原点付近（低MA・低CN）だけでなく、対角線上あるいは右上に明確なクラスタが発生することを示すプロット図。

2. **系統樹の復元**
   * 高MA分子がどのような経路（反応履歴）を辿って生成されたかを可視化するグラフ。

3. **インタラクティブ・デモ**
   * Webブラウザ（WebGL）で動作するGlyph Soup。ユーザーが「神」としてパラメータをいじり、生命発生の瞬間を目撃できるツール。

## 6. 次のステップ（Future Work）

* **LLMとの連携:** 結合ルール自体をLLMにコードとして生成させ、Glyph Soup内で「最も面白い進化」を引き起こすプロンプト（物理法則）を探求させる。
* **3D化:** 分子の立体構造（Folding）をシミュレーションに取り入れ、MA計算に「形状の複雑さ」を加味する。
